<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dune: Awakening Base Planner</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden; /* Prevents scrollbars from body */
        }
        h1, #toolbar {
            flex-shrink: 0; /* Prevent these from shrinking */
            padding: 0 10px;
        }
        #main-container {
            display: flex;
            flex-grow: 1; /* Take up remaining vertical space */
            overflow: hidden; /* Important for child scrolling */
        }
        #sidebar {
            width: 250px;
            flex-shrink: 0;
            padding: 10px;
            overflow-y: auto; /* Allow sidebar to scroll if content overflows */
            border-right: 2px solid #ccc;
        }
        #canvas-container {
            flex-grow: 1; /* Take up remaining horizontal space */
            position: relative;
        }
        #baseCanvas {
            display: block; /* Removes bottom margin/space */
        }
    </style>
</head>
<body>
    <h1>Dune: Awakening Base Planner</h1>

    <div id="toolbar">
        <div class="toolbar-group">
            <button id="save-btn">Save</button>
            <button id="load-btn">Load</button>
            <button id="clear-btn">Clear</button>
            <button id="export-btn">Export</button>
        </div>
        <div class="toolbar-group">
            <button id="undo-btn">Undo</button>
            <button id="redo-btn">Redo</button>
        </div>
        <div class="toolbar-group">
            <button id="level-down-btn">&lt; Level Down</button>
            <span id="level-display">Level 0</span>
            <button id="level-up-btn">Level Up &gt;</button>
        </div>
    </div>

    <div id="main-container">
        <div id="sidebar">
            <h2>Building Pieces</h2>

            <input type="text" id="search-input" placeholder="Search pieces...">

            <h4>Faction</h4>
            <div id="faction-filters">
                <button class="filter-btn active" data-faction="General">General</button>
                <button class="filter-btn" data-faction="Harkonnen">Harkonnen</button>
            </div>

            <h4>Type</h4>
            <div id="type-filters">
                <button class="filter-btn active" data-type="All">All</button>
                <button class="filter-btn" data-type="Structural">Structural</button>
                <button class="filter-btn" data-type="Walls">Walls</button>
                <button class="filter-btn" data-type="Inclines">Inclines</button>
                <button class="filter-btn" data-type="Special">Special</button>
            </div>

            
            <div id="fief-pieces">
                <div class="sidebar-piece" data-piece-type="sub_fief">
                    Sub Fief
                </div>
                <div class="sidebar-piece" data-piece-type="advanced_sub_fief">
                    Advanced Sub Fief
                </div>
            </div>

            <hr>

            <div id="piece-list">
                <div class="sidebar-piece" data-piece-type="foundation">
                    1x1 Foundation
                </div>
                <div class="sidebar-piece" data-piece-type="harkonnen_floor_quarter">
                    Harkonnen Rounded Floor
                </div>
                <div class="sidebar-piece" data-piece-type="harkonnen_floor_triangle">
                    Harkonnen Triangle Floor
                </div>
                <div class="sidebar-piece" data-piece-type="wall">
                    1x1 Wall
                </div>
                <div class="sidebar-piece" data-piece-type="harkonnen_wall_quarter">
                    Harkonnen Rounded Wall
                </div>
                <div class="sidebar-piece" data-piece-type="harkonnen_window_wall">
                    Harkonnen Window Wall
                </div>
                <div class="sidebar-piece" data-piece-type="harkonnen_door">
                    Harkonnen Door
                </div>
                <div class="sidebar-piece" data-piece-type="harkonnen_center_column">
                    Harkonnen Centre Column
                </div>
                <div class="sidebar-piece" data-piece-type="harkonnen_corner_column">
                    Harkonnen Corner Column
                </div>
                <div class="sidebar-piece" data-piece-type="stairs">
                    1x2 Stairs
                </div>
                <div class="sidebar-piece" data-piece-type="harkonnen_half_stairs">
                    Harkonnen 1x1 Stairs
                </div>
            </div>
        </div>
        <div id="canvas-container">
            <canvas id="baseCanvas" width="1000" height="800"></canvas>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>